/* generator-yoctopus - Utility tool to build an yoctopus stack based on NodeJs / AngularJs - V1.3.1 */
"use strict";angular.module("<%= name %>").factory("translationsLoader",["$q","appConstants","$http","logService","_","$rootScope","appTranslate",function(a,b,c,d,e,f,g){return function(c){var h=a.defer();return e.isEmpty(b.keys().translations.localeUrl)?f.$on("$configLoadSuccess",function(a,b){g.load(c.key).then(function(a){h.resolve(a)},function(){d.error(["An error occured during language loading process for key",c.key].join(" ")),h.reject(c.key)})}):e.has(g.keys(),c.key)?h.resolve(g.keys()[c.key]):g.load(c.key).then(function(a){h.resolve(a)},function(){d.error(["An error occured during language loading process for key",c.key].join(" ")),h.reject(c.key)}),h.promise}}]),angular.module("<%= name %>").factory("apiRouteFactory",["appConstants","_",function(a,b){return{get:function(c){var d=!1;if(a.keys().api){var e=a.keys().api,f=e.urls||[];b.isArray(f)&&!b.isEmpty(f)&&(d=b.find(f,"name",c))}return d},buildUrl:function(c,d,e){if(e=b.isBoolean(e)?e:!1,d=b.isObject(d)&&!b.isEmpty(d)?d:{},a.keys().api){var f=a.keys().api;if(b.isString(c)&&!b.isEmpty(c))return b.each(d,function(a,b){c=c.replace([":",b].join(""),a)}),[(e?f.baseUrl:"")||"",c].join("/")}return!1},getUrl:function(a,b){var c=this.get(a);return c&&(c=this.buildUrl(c.value,b,c.api)),c}}}]);